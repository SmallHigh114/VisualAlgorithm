# 装甲板识别（C++ / OpenCV）

## 项目功能

本项目基于 **C++ + OpenCV**，实现了机器人视觉中常见的 **装甲板检测功能** ：

- 从摄像头或视频流中读取图像
- 提取红色 / 蓝色灯条
- 检测并筛选灯条候选
- 将成对灯条匹配为装甲板
- 计算装甲板中心与四个顶点
- 在原图中绘制检测结果并输出目标信息

---

## 实现功能

### 1. 图像预处理
- BGR → HSV 颜色空间转换
- 红色 / 蓝色颜色阈值分割
- 膨胀、二值化等形态学处理

### 2. 灯条检测
- 二值图中查找轮廓
- 使用 `minAreaRect` 拟合旋转矩形
- 根据以下条件筛选灯条：
  - 长宽比限制
  - 角度合理性
  - 面积有效性
- 通过 ROI 内 **R / B 像素和** 判断灯条颜色

### 3. 装甲板匹配
- 灯条两两配对
- 匹配条件包括：
  - 两灯条角度接近
  - 长度比例接近
  - 中心连线角度小于 35°
  - 两灯条之间不存在第三根灯条
  - 颜色一致
- 构建 `ArmorPlate` 结构体

### 4. 装甲板结果处理
- 计算装甲板中心点
- 计算装甲板四个顶点
- 使用 `minAreaRect` 得到装甲板整体矩形
- 在原图中绘制：
  - 左右灯条
  - 装甲板外框
  - 装甲板数量与颜色信息
